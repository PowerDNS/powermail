<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>Best practice setups</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"><LINK
REL="HOME"
TITLE="PowerMail manual"
HREF="index.html"><LINK
REL="PREVIOUS"
TITLE="Quotas"
HREF="quotas.html"></HEAD
><BODY
CLASS="CHAPTER"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>PowerMail manual</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="quotas.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
>&nbsp;</TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="CHAPTER"
><H1
><A
NAME="AEN677">Chapter 12. Best practice setups</H1
><P
>      An ideal setup consists of at least three servers. This guarantees that a
      single-machine failure does not hamper service in any way. As there are
      still two servers available, which together contain all messages, both
      delivery and retrieval continue. There is no lack of functionality.
    </P
><P
>      A futher failure will cause part of the messages (around 33%) to disappear,
      but mail retrieval will still be possible. Mail deliveries will cease.
    </P
><DIV
CLASS="SECT1"
><H1
CLASS="SECT1"
><A
NAME="AEN681">12.1. High redundancy</H1
><P
>	Six machines in three groups with a redundancy target of 3 means that any
	two servers can fail before messages might be lost. In other words, 33% of
	your servers may fail before problems occur.
      </P
><P
>	Mail deliver patterns then look like this:
<PRE
CLASS="SCREEN"
>	1 2   3 4   5 6
1	x     x     x
2	x     x       x
3	x       x   x
4	x       x     x
5	  x   x     x
6	  x   x       x
7	  x     x   x
8	  x     x     x</PRE
>
      </P
><P
>	If servers 1, 2 and 3 fail, no mail is lost. In the general case, mail might
	only be lost if all groups lose a server. Otherwise, at least one undamaged
	group survives and by our configuration, each group has a copy of all
	mesages.
      </P
><P
>	The chance for three failures to fall into three groups is 1-((3/3) * (2/3)
	* (1/3))=1/3. So only in one-third of the cases, there is a chance of all
	groups losing a message. This only happens if the failures exacly strike the
	three servers that house your message, for which the chance is
	(1/2)*(1/2)*(1/2)=1/8. 
      </P
><P
>	Summarizing, the compound expected loss of mail in case of 50% failure is
	(1/3)*(1/8)=1/24, which is around 4%. 
      </P
><P
>	There is a 1/3 chance that messages can continue to be stored redundantly,
	but in that case, 12.5% of already present mail is lost.
      </P
><P
>	There is a 2/3 chance that mail reception is disabled, but not a single
	message is lost.
      </P
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="quotas.html"
ACCESSKEY="P"
>Prev</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>&nbsp;</TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Quotas</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
>&nbsp;</TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>&nbsp;</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>